<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:VTACheckClock.ViewModels"
        x:Class="VTACheckClock.Views.PunchSyncPreviewWindow"
        Width="600" Height="500"
        Title="Registros a sincronizar"
        Name="wdw_punch_preview"
        CanResize="False"
        WindowStartupLocation="CenterOwner">
  <Design.DataContext>
    <vm:PunchSyncPreviewViewModel />
  </Design.DataContext>

  <Grid RowDefinitions="Auto,*,Auto" Margin="10">
    <TextBlock Text="Estos registros serÃ¡n sincronizados al servidor configurado." FontSize="16" Margin="0 0 0 8" />

    <DataGrid Grid.Row="1" ItemsSource="{Binding Punches}" AutoGenerateColumns="False" IsReadOnly="True" CanUserReorderColumns="True">
      <DataGrid.Columns>
        <DataGridTextColumn Header="Empleado" Binding="{Binding IdEmployee}" Width="1*" />
        <DataGridTextColumn Header="Nombre" Binding="{Binding EmployeeFullName}" Width="2*" />
        <DataGridTextColumn Header="Evento" Binding="{Binding EventName}" Width="1*" />
        <DataGridTextColumn Header="Hora" Binding="{Binding EventTime}" Width="1.5*" />
        <DataGridTextColumn Header="Interna" Binding="{Binding InternalEventTime}" Width="1.5*" />
        <DataGridTemplateColumn Header="Acciones" Width="1*">
          <DataGridTemplateColumn.CellTemplate>
            <DataTemplate>
              <Button Content="Eliminar" Command="{Binding $parent[Window].DataContext.DeletePunchCommand}" CommandParameter="{Binding}" />
            </DataTemplate>
          </DataGridTemplateColumn.CellTemplate>
        </DataGridTemplateColumn>
      </DataGrid.Columns>
    </DataGrid>

    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0 8 0 0" Spacing="8">
      <TextBlock VerticalAlignment="Center" Text="Total: " />
      <TextBlock VerticalAlignment="Center" Text="{Binding Total}" Margin="0 0 8 0" />
      <Button Content="Cancelar" Command="{Binding CancelCommand}" />
      <Button Content="Sincronizar" Command="{Binding SyncNowCommand}" />
    </StackPanel>
  </Grid>
</Window>